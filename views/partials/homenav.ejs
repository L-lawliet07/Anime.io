<!-- This is the script for font awesome -->
<script src="https://kit.fontawesome.com/ae068108e1.js" crossorigin="anonymous"></script>

<!-- Outer most container for navbar ( here iam using bootstrap navbar )-->
<nav class="navbar navbar-expand-lg navbar-light bg-light">

    <div class="container">

        <!-- Brand name and logo -->
        <div class="brand">
            <img class="brand__logo logoAnimation" src="/images/logo.png" alt="">
            <a class="navbar-brand brand__name" href="/">
                Anime.<span class="emphasis">io</span>
            </a>
        </div>

        <!-- Toggle button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- container for nav element -->
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav navbar-nav ml-auto mt-2 mt-lg-0">

                <!-- This is for people button -->
                <li class="em-background nav-item active">
                    <a class="nav-link" href="/user/users">People <span class="sr-only">(current)</span></a>
                </li>

                <!-- This for Friends button -->
                <li class="nav-item active">
                    <a class="nav-link" href="/user/friend">Friends <span class="sr-only">(current)</span></a>
                </li>

                <!-- This is a dropdown for unseen message -->
                <li class="nav-item dropdown">

                    <a class="nav-link dropdown-toggle unseenmessage-btn" href="#" id="navbarDropdownMenuLink"
                        role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                        <!-- Checking if any unseen message or not -->
                        <% if ( user.unseenMessage.length > 0 ) { %>
                        <i id="unseenmessage-icon" style="color: red;" class="fas fa-envelope"></i>
                        <% } else { %>
                        <i id="unseenmessage-icon" class="fas fa-envelope"></i>
                        <% } %>
                    </a>

                    <div id="unseenmessage-container" class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <!-- Filling the dropdown with unseen message notification -->
                        <% if ( user.unseenMessage.length > 0 ) { %>
                        <% for ( let info of ( new Set(user.unseenMessage)) ) { %>
                        <a class="dropdown-item" href="/user/chat/<%= user.username %>-<%= info %>"><%= info %> send you
                            a
                            message.</a>
                        <% } %>
                        <% } else { %>
                        <a class="no-unseenMessage dropdown-item" href="">No new notification</a>
                        <% } %>
                    </div>
                </li>

                <!-- This is a drop down for notification  -->
                <li class="nav-item dropdown">

                    <a class="nav-link dropdown-toggle notification-btn" href="#" id="navbarDropdownMenuLink"
                        role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <!-- Checking if any notification or not -->
                        <% if ( user.notification.length > 0 ) { %>
                        <i id="notification-icon" style="color: red;" class="fas fa-user-friends"></i>
                        <% } else { %>
                        <i id="notification-icon" class="fas fa-user-friends"></i>
                        <% } %>
                    </a>
                    <div id="notification-container" class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <!-- Filling the dropdown with notification -->
                        <% if ( user.notification.length > 0 ) { %>
                        <% for ( let info of ( new Set(user.notification)) ) { %>
                        <a class="dropdown-item" href="/user/profile/<%= info %>"><%= info %> started following you</a>
                        <% } %>
                        <% } else { %>
                        <a class="no-notification dropdown-item" href="">No new notification</a>
                        <% } %>
                    </div>
                </li>
                <!-- This li dropdown is for username -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle emphasis" href="#" id="navbarDropdownMenuLink" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <!-- user image -->
                        <img width="30px" height="30px" style="border-radius: 5px;" id="main-image"
                            src="/images/people/<%= user.image %>" alt="" srcset="">
                        <span id="main-username"><%= user.username %></span>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <!-- Profile -->
                        <a class="dropdown-item" href="/user/profile/<%= user.username %>"><i class="far fa-user"></i>
                            Profile</a>
                        <!-- Setting -->
                        <a class="dropdown-item" href="/user/setting"><i class="fas fa-cog"></i> Setting</a>
                        <!-- Logout -->
                        <a class="dropdown-item" id="logout-btn" href="#"><i class="fas fa-sign-out-alt"></i>
                            LogOut</a>
                    </div>
                </li>

            </ul>
        </div>
    </div>
</nav>